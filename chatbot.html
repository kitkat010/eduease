<?php
session_start();

// Placeholder for user authentication
if (!isset($_SESSION['user_id'])) {
    header("Location: login.php");
    exit();
}

$user_name = $_SESSION['user_name']; // Assuming user_name is stored in session
$profile_picture = "profile.jpg"; // Placeholder profile picture
?>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot UI</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        body { display: flex; height: 100vh; }
        .sidebar { width: 200px; background: #343a40; color: white; padding: 15px; }
        .session-sidebar { width: 250px; background: #f8f9fa; padding: 15px; border-right: 1px solid #ddd; }
        .chat-container { flex-grow: 1; display: flex; flex-direction: column; }
        .chat-header { padding: 10px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center; }
        .chat-messages { flex-grow: 1; overflow-y: auto; padding: 15px; }
        .chat-input { padding: 10px; border-top: 1px solid #ddd; }
    </style>
</head>
<body>
    
    <!-- Main Sidebar -->
    <div class="sidebar">
        <h4>Menu</h4>
        <ul class="nav flex-column">
            <li class="nav-item"><a href="#" class="nav-link text-white">Chatbot</a></li>
            <li class="nav-item"><a href="#" class="nav-link text-white">File Upload</a></li>
        </ul>
    </div>
    
    <!-- Sessions Sidebar -->
    <div class="session-sidebar">
        <button class="btn btn-primary w-100 mb-3">+ New Chat</button>
        <h5>Previous Chats</h5>
        <ul class="list-group">
            <li class="list-group-item">Session 1</li>
            <li class="list-group-item">Session 2</li>
            <li class="list-group-item">Session 3</li>
        </ul>
    </div>
    
    <!-- Chat Container -->
    <div class="chat-container">
        <div class="chat-header">
            <h4>Chatbot</h4>
            <img src="<?= $profile_picture ?>" alt="Profile" width="40" height="40" class="rounded-circle">
        </div>
        <div class="chat-messages">
            <p><strong>Bot:</strong> Hello! How can I assist you today?</p>
        </div>
        <div class="chat-input">
            <input type="text" class="form-control" placeholder="Type a message...">
            <button class="btn btn-primary mt-2">Send</button>
        </div>
    </div>

</body>
</html>
